<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A fast and safe way to share secrets over communication methods that don't provide secrecy.">
<meta http-equiv="Content-Security-Policy" content="
	default-src 'none';
	font-src 'self';
	style-src 'self';
	script-src 'self';
	connect-src <%= API_URL %>">
<title>Recondere</title>
</head>
<body>
<div class="page">
	<header>
		<h1>Recondere</h1>
	</header>
	<nav>
		<ol id="menu">
			<li class="tab-button active">
				<a id="nav-create" href="#">Encrypt</a>
			</li><li class="tab-button">
				<a id="nav-read" href="#">Decrypt</a>
			</li><li class="tab-button">
				<a id="nav-info" href="#">About</a>
			</li>
		</ol>
	</nav>
	<main>
		<section class="tab-content" id="create">
			<h2>Create encrypted link</h2>
			<form id="create-form">
				<div class="form-group">
					<label for="create-ttl">Retention time (days)</label>
					<input type="number" id="create-ttl" name="ttl" placeholder="1">
				</div>
				<div class="form-group">
					<label for="create-content">Content</label>
					<textarea id="create-content" name="content"></textarea>
				</div>
				<div class="form-group">
					<button id="create-submit" type="submit">Encrypt</button>
				</div>
				<div id="create-output-group" class="form-group hide">
					<label for="create-output">Link</label>
					<output class="form-group" id="create-output"></output>
				</div>
			</form>
		</section>
		<section id="read" class="tab-content hide">
			<h2>Read encrypted data</h2>
			<form id="read-form">
				<div class="form-group" id="read-params-group">
					<label for="read-params">Parameter string</label>
					<input type="text" id="read-params" name="params" disabled>
				</div>
				<div class="form-group">
					<button id="read-reveal" type="submit">Decrypt</button>
					<button id="read-hide" type="button" class="hide">Hide content</button>
				</div>
				<div id="read-content-group" class="form-group hide">
					<label id="read-label-success" for="read-content" class="hide">Content decrypted and removed.<br>This link cannot be used again.</label>
					<output id="read-content"></output>
				</div>
			</form>
		</section>
		<section id="info" class="tab-content hide">
			<h2>Service description</h2>
			<p>Recondere is a service that makes it easy to securely share secrets. Data is encrypted using AES with a 256-bit key before it's saved to the database and removed immediately after the first decryption request, even if an incorrect encryption key was submitted.</p>
			<p>Because each secret is encrypted with its own randomly generated key which isn't stored anywhere, it can only be read by a person with access to the link.</p>
		</section>
	</main>
</div>
</body>
</html>
